<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>QTI IOL Player LIT</title>

    <base href="%BASE_URL%" />

    <script type="module">
      import "@citolab/qti-components/qti-components";
      import "@citolab/qti-components/qti-test/core";
      import "@citolab/qti-components/qti-test/components/test-navigation";
      import "@citolab/qti-components/qti-test/components/test-container";
      import "@citolab/qti-components/qti-test/components/test-next";
      import "@citolab/qti-components/qti-test/components/test-prev";
      import "@citolab/qti-components/qti-test/components/test-show-correct-response";
      import "@citolab/qti-components/qti-test/components/test-end-attempt";
      import "@citolab/qti-components/qti-test/components/test-paging-buttons-stamp";
      import "@citolab/qti-components/qti-test/components/test-item-link";
      import "@citolab/qti-components/qti-test/components/test-view";
      import "@citolab/qti-components/qti-test/components/test-print-item-variables";
    </script>

    <style>
      @import url("https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css");
      @import url("https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css");
      body {
        width: 100dvw;
        height: 100dvh;
      }

      test-container {
        aspect-ratio: 16 / 9;
        --qti-bg-active: #efecff;
        --qti-border-active: #581D70;
        --qti-button-padding-vertical: 0.2rem;
        --bs-box-shadow: box-shadow: 0 2px 10px 0 rgba(0, 0, 0, 0.1);
      }

      .btn-primary {
        --bs-btn-color: #fff;
        --bs-btn-bg: #581D70;
        --bs-btn-border-color: #581D70;
        --bs-btn-hover-color: #fff;
        --bs-btn-hover-bg: #EC6726;
        --bs-btn-hover-border-color: #EC6726;
        --bs-btn-focus-shadow-rgb: 60, 153, 110;
        --bs-btn-active-color: #fff;
        --bs-btn-active-bg: #EC6726;
        --bs-btn-active-border-color: #EC6726;
        --bs-btn-active-shadow: 0 0 16px 0 rgba(46,49,146,.05);
        --bs-btn-disabled-color: #fff;
        --bs-btn-disabled-bg: #581D70;
        --bs-btn-disabled-border-color: #581D70;
      }
    </style>
  </head>

  <body class="bg-light">
    <!-- auto-store-restore="my session storage" -->
    <qti-test class="h-100 overflow-hidden gap-4">
      <test-navigation class="d-flex w-100 h-100">

        <test-paging-buttons-stamp
          class="d-flex flex-column gap-2 p-2 overflow-auto"
          style="min-width: 160px; max-width: 160px;"
        >
          <template>
            <test-item-link class="btn btn-primary {{item.active ? 'active' : ''}}" item-id="{{ item.identifier }}">
              {{ item.index }} {{ item.title }} {{ item.difficulty }}
              <template type="if" if="{{ item.type === 'info' }}">
                <i class="bi bi-info-circle"></i>
              </template>
            </test-item-link>
          </template>
        </test-paging-buttons-stamp>

        <div class="d-flex flex-column flex-grow-1 m-4">
          <test-view>View</test-view>
          <test-container
            test-url="/kennisnet-1/AssessmentTest.xml"
            class="rounded bg-white border p-4 d-block flex-grow-1 overflow-auto"
          ></test-container>
          <nav class="d-flex align-items-center justify-content-between">
            <test-end-attempt class="btn btn-secondary"
              >Scoring</test-end-attempt
            >
            <test-show-correct-response class="btn btn-secondary"
              >Toon correct antwoord</test-show-correct-response
            >

            <test-prev class="btn btn-primary"> Vorige </test-prev>
            <test-next class="btn btn-primary"> Volgende </test-next>
          </nav>
        </div>

        <test-print-item-variables class="small"></test-print-item-variables>
        
      </test-navigation>

    </qti-test>

    <script>
      customElements.whenDefined("test-navigation").then(() => {
        const testNavigation = document.querySelector("test-navigation");
        testNavigation.configContext = {
          infoItemCategory: 'info'
        }
        testNavigation.initContext = [
        {
            identifier: "INTRODUCTION",
            title: "Intro",
          },
          {
            identifier: "ITEM001",
            title: "Mooie titel",
            difficulty: "2"
          },
          {
            identifier: "ITEM002",
            title: "Nice title",
            difficulty: "3"
          },
          {
            identifier: "ITEM003",
            title: "Leuke titel",
            difficulty: "1"
          },
          {
            identifier: "ITEM005",
            title: "De kat",
            difficulty: "1"
          },
        ];
      });

    </script>
  </body>
</html>
